var _t=Object.defineProperty;var pt=(e,t,n)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>(pt(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$={},Ge={};function wt(e,t){const n=Array.isArray(t)?t:[];return n.push(!1,0,-0,0n,"",null,void 0,NaN),n.includes(e)}var Ue=wt,qe=e=>typeof e=="function";function Et(e){return["string","number","bigint","boolean","undefined","symbol","null"].includes(typeof e)}var We=Et;const Ot=Ue,$t=qe,Tt=We;function Xe(e){if(Ot(e)||Tt(e)||$t(e))return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(n=>{t[n]=Xe(e[n])}),t}var Pt=Xe;function St(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1}var Mt=St;const Be=Mt;function ze(e,t,n=10){const r=Be(e,t);if(typeof r=="boolean")return r;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length||[...i].sort().join("")!==[...a].sort().join(""))return!1;for(let o=0;o<i.length;o++)if(Be(e[i[o]],t[i[o]])===!1||n>0&&!ze(e[i[o]],t[i[o]],n-1))return!1;return!0}var jt=ze;function Ct(e,t,n=0,r=1){if(!(typeof e!="function"||typeof t!="number"||typeof n!="number"||typeof r!="number"))for(let i=n;i<t;i=i+r){const a=e(i);if(a!=null)return a}}var Dt=Ct;function Rt(e){return typeof e!="string"?e:e.substring(0,1).toUpperCase()+e.substring(1)}var At=Rt;function Nt(e){return typeof e!="string"||e.length===0}var Ye=Nt;const It=Ye;function Bt(e){return typeof e!="string"||It(e.trim())}var k=Bt;function Ht(e,t="'",n=t){return`${t}${e}${n}`}var Ft=Ht;function Lt(e,t){return["string","number","boolean","bigint","undefined","null","symbol"].includes(typeof e)||[null,void 0].includes(e)?!1:Object.prototype.hasOwnProperty.call(e,t)}var Ke=Lt;const Gt=k;function Ut(e){if(Gt(e))return!1;const t=/^#[0-9|a|b|c|d|e|f]{3}$/,n=/^#[0-9|a|b|c|d|e|f]{6}$/,r=/^#[0-9|a|b|c|d|e|f]{8}$/;return t.test(e)||n.test(e)||r.test(e)}var Je=Ut;const qt=Ke,Ve=(...e)=>{if(e.some(t=>typeof t!="object"))throw new Error("Some/All arguments are not of type (object).");return e.reduce((t,n)=>(Object.keys(n).forEach(r=>{qt(t,r)?typeof n[r]!="object"||typeof t[r]!="object"||t[r]===null||n[r]===null?t[r]=n[r]:t[r]=Ve(t[r],n[r]):t[r]=n[r]}),t),{})};var Wt=Ve;const Xt=k;var ke=e=>{if(Xt(e))return!1;const t=/^rgb\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})\)$/,n=/^rgba\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})(,( ){0,1}(\d{1})(\.\d+){0,1}){0,1}\)$/;if(t.test(e)){const r=e.slice(4,-1).split(",").map(i=>parseInt(i.trim()));for(let i of r)if(i>256)return!1;return!0}else if(n.test(e)){const r=e.slice(5,-1).split(",").map(i=>parseInt(i.trim()));for(let i of r.slice(0,3))if(i>256)return!1;return!(r[3]!==void 0&&(1<r[3]||r[3]<0))}return!1};const le=1e3,Q=le*60,fe=Q*60,B=fe*24,ce=B*7,de=B*30,he=B*365;function D(e,t,n,r){if(typeof e!="number")throw new Error("time is not a number.");if(e>Date.now())throw new Error("the given time is superior to the current time.");if(typeof t!="number"||t<0)throw new Error("time unit is not a positive number.");const i=Date.now()-e,a=Math.trunc(i/t);return{count:a,formatted:`${a} ${a<2?n:r}`}}function Qe(e,t="second",n="seconds"){return D(e,le,t,n)}function Ze(e,t="minute",n="minutes"){return D(e,Q,t,n)}function xe(e,t="hour",n="hours"){return D(e,fe,t,n)}function et(e,t="day",n="days"){return D(e,B,t,n)}function tt(e,t="week",n="weeks"){return D(e,ce,t,n)}function nt(e,t="month",n="months"){return D(e,de,t,n)}function rt(e,t="year",n="years"){return D(e,he,t,n)}function zt(e,t=["second","seconds"],n=["minute","minutes"],r=["hour","hours"],i=["day","days"],a=["week","weeks"],o=["month","months"],u=["year","years"]){if(typeof e!="number")throw new Error("time is not a number.");let s=e;const f=rt(s,...u);s+=f.count*he;const l=nt(s,...o);s+=l.count*de;const d=tt(s,...a);s+=d.count*ce;const b=et(s,...i);s+=b.count*B;const y=xe(s,...r);s+=y.count*fe;const g=Ze(s,...n);s+=g.count*Q;const v=Qe(s,...t),T={formatted:"",seconds:v,minutes:g,hours:y,days:b,weeks:d,months:l,years:f};return T.formatted=(()=>f.count>0?f.formatted:l.count>0?l.formatted:d.count>0?d.formatted:b.count>0?b.formatted:y.count>0?y.formatted:g.count>0?g.formatted:v.formatted)(),T}var Yt={SECOND:le,MINUTE:Q,DAY:B,WEEK:ce,MONTH:de,YEAR:he,timeUnitSince:D,secondsSince:Qe,minutesSince:Ze,hoursSince:xe,daysSince:et,weeksSince:tt,monthsSince:nt,yearsSince:rt,since:zt};const Kt=k;var it=e=>{if(Kt(e))return!1;const t=/^hsl\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})\)$/,n=/^hsla\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})(,( ){0,1}(\d{1})(\.\d+){0,1}){0,1}\)$/;if(t.test(e)){const r=e.slice(4,-1).split(",").map(i=>parseInt(i.trim()));for(let i of r)if(i>256)return!1;return!0}else if(n.test(e)){const r=e.slice(5,-1).split(",").map(u=>parseInt(u.trim())),i=r.slice(0,3)[0],a=r.slice(0,3)[1],o=r.slice(0,3)[2];return!(360<i||i<0||100<a||a<0||100<o||o<0||r[3]!==void 0&&(1<r[3]||r[3]<0))}return!1},Jt=(e,t,n)=>{if(typeof e!="number")throw"(min) is not a number.";if(typeof n!="number")throw"(max) is not a number.";if(typeof t!="number")throw"(value) is not a number.";if(e>n)throw"(min) is greater than (max).";return e<=t&&t<=n};const Vt=Je,kt=it,Qt=ke,ot="hex",at="hsl",st="rgb",Zt="unknown",xt=e=>Vt(e)?ot:kt(e)?at:Qt(e)?st:Zt;var en={getColorType:xt,HEX:ot,HSL:at,RGB:st},tn=(...e)=>{for(let t of e)if(typeof t=="function"){if(t()===!1)return!1}else if(t===!1)return!1;return!0};const nn=Pt,rn=jt,on=Ue,an=Dt,sn=At,un=k,ln=Ye,fn=Ft,cn=Ke,dn=We,hn=Je,bn=qe,mn=Wt,yn=ke,gn=Yt,vn=it,_n=Jt,pn=en,wn=tn;var En={areEqual:rn,copy:nn,isFalsy:on,forRange:an,isEmpty:ln,isBlank:un,wrap:fn,capitalize:sn,hasProperty:cn,isPrimitiveType:dn,isHexColor:hn,isFunction:bn,merge:mn,isRgbColor:yn,isHslColor:vn,isInInterval:_n,verify:wn,...gn,...pn},be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeAttribute=e.setAttribute=e.toggleAttribute=e.isToggledOn=e.isTogglableAttribute=e.togglableAttributes=void 0,e.togglableAttributes=["contenteditable","autofocus","autoplay","allowfullscreen","allowpaymentreques","checked","controls","compact","disabled","hidden","ismap","loop","multiple","muted","open","playsinline","readonly","required","selected","async","defer"];const t=o=>e.togglableAttributes.includes(o.trim());e.isTogglableAttribute=t;const n=(o,u)=>(0,e.isTogglableAttribute)(o)&&u[o]===!0;e.isToggledOn=n;const r=(o,u,s)=>{s!==void 0?(u.toggleAttribute(o,s===!0),u[o]=s===!0):u.toggleAttribute(o)};e.toggleAttribute=r;const i=(o,u,s)=>{e.togglableAttributes.includes(o)?(0,e.toggleAttribute)(o,s,u):(s.setAttribute(o,u),s[o]=u)};e.setAttribute=i;const a=(o,u)=>{(0,e.isTogglableAttribute)(o)?(0,e.toggleAttribute)(o,u,!1):u.removeAttribute(o)};e.removeAttribute=a})(be);var me={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeEvent=e.setEvent=e.isOnEventName=void 0;const t=i=>!(typeof i!="string"||!/on[a-z]{1,}/.test(i));e.isOnEventName=t;const n=(i,a,o)=>{o instanceof Element&&typeof a=="function"&&(0,e.isOnEventName)(i)&&(o[i]=a)};e.setEvent=n;const r=(i,a)=>{a instanceof Element&&(0,e.isOnEventName)(i)&&(a[i]=null)};e.removeEvent=r})(me);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.replaceNodeWith=e.removeNode=e.changeChildPosition=e.removeChildAtPosition=e.getElementChildrenCount=e.getElementPosition=e.isElementInDocument=e.isElementWithinElement=e.injectNode=e.createElement=e.setTextNodeData=e.createTextNode=e.isElement=e.isTextNode=void 0;const t=En,n=be,r=me,i=c=>c instanceof Text;e.isTextNode=i;const a=c=>c instanceof Element;e.isElement=a;const o=c=>document.createTextNode(c);e.createTextNode=o;const u=(c,m)=>{(0,e.isTextNode)(c)&&(c.data=m)};e.setTextNodeData=u;const s=(c,m)=>{if((0,t.isBlank)(c))throw new Error("tag cannot be empty.");const P=m&&m.namespace?m.namespace:"http://www.w3.org/1999/xhtml",w=document.createElementNS(P,c);if(m&&m.attributes&&Object.keys(m.attributes).forEach(E=>{(0,n.setAttribute)(E,m.attributes[E],w)}),m&&m.events&&Object.keys(m.events).forEach(E=>{(0,r.setEvent)(E,m.events[E],w)}),m&&m.children){const E=m.children;Array.isArray(E)?E.forEach(A=>{(0,e.injectNode)(A,w)}):(0,e.injectNode)(E,w)}return w};e.createElement=s;const f=(c,m,P)=>{let w;(0,e.isElement)(c)||(0,e.isTextNode)(c)?w=c:w=(0,e.createTextNode)(c),typeof P=="number"&&P>-1?m.insertBefore(w,m.children[P]):m.append(w)};e.injectNode=f;const l=(c,m)=>!(c instanceof Node)||!(0,e.isElement)(m)?!1:m.contains(c);e.isElementWithinElement=l;const d=c=>(0,e.isElementWithinElement)(c,document.body);e.isElementInDocument=d;const b=c=>Array.from(c.parentElement.children).indexOf(c);e.getElementPosition=b;const y=c=>(0,e.isElement)(c)?c.childElementCount:-1;e.getElementChildrenCount=y;const g=(c,m)=>(0,e.getElementChildrenCount)(c)-1<m?!1:c.removeChild(c.childNodes.item(m));e.removeChildAtPosition=g;const v=(c,m)=>{if(!(0,e.isElement)(c))return;const P=c.parentElement;(0,e.isElement)(P)&&(0,e.injectNode)(c,P,m)};e.changeChildPosition=v;const T=c=>{((0,e.isElement)(c)||(0,e.isTextNode)(c))&&c.remove()};e.removeNode=T;const oe=(c,m)=>{((0,e.isElement)(c)||(0,e.isTextNode)(c))&&((0,e.isElement)(m)||(0,e.isTextNode)(m))&&c.replaceWith(m)};e.replaceNodeWith=oe})(Ge);(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,u)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=h&&h.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(Ge,e),n(me,e),n(be,e)})($);var N={},F={},ye={},Z={},x={};Object.defineProperty(x,"__esModule",{value:!0});function On(e){return typeof e!="string"||e.length===0}x.default=On;var $n=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Z,"__esModule",{value:!0});const Tn=$n(x);function Pn(e){return typeof e!="string"||(0,Tn.default)(e.trim())}Z.default=Pn;var Sn=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ye,"__esModule",{value:!0});const Mn=Sn(Z);function jn(e){if((0,Mn.default)(e))throw"(str) is empty or is not a string.";return e.substring(0,1).toUpperCase()+e.substring(1)}ye.default=jn;var ge={};Object.defineProperty(ge,"__esModule",{value:!0});function Cn(e,t="'",n=t){return`${t}${e}${n}`}ge.default=Cn;(function(e){var t=h&&h.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.wrap=e.isEmpty=e.isBlank=e.capitalize=void 0;var n=ye;Object.defineProperty(e,"capitalize",{enumerable:!0,get:function(){return t(n).default}});var r=Z;Object.defineProperty(e,"isBlank",{enumerable:!0,get:function(){return t(r).default}});var i=x;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return t(i).default}});var a=ge;Object.defineProperty(e,"wrap",{enumerable:!0,get:function(){return t(a).default}})})(F);var ut={},ve={},L={};Object.defineProperty(L,"__esModule",{value:!0});function Dn(e){return typeof e=="function"}L.default=Dn;var Rn=h&&h.__awaiter||function(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(l){try{f(r.next(l))}catch(d){o(d)}}function s(l){try{f(r.throw(l))}catch(d){o(d)}}function f(l){l.done?a(l.value):i(l.value).then(u,s)}f((r=r.apply(e,t||[])).next())})},An=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});const Nn=An(L);function In(e,t){return Rn(this,void 0,void 0,function*(){return new Promise(n=>{if(typeof e!="number"||e<0)throw"(time) is not valid.";if(!(0,Nn.default)(t))throw"(callback) is not a function.";setTimeout(()=>{n(t())},e)})})}ve.default=In;(function(e){var t=h&&h.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.runAfter=void 0;var n=ve;Object.defineProperty(e,"runAfter",{enumerable:!0,get:function(){return t(n).default}})})(ut);var ee={},_e={},pe={};Object.defineProperty(pe,"__esModule",{value:!0});function Bn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1}pe.default=Bn;var Hn=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_e,"__esModule",{value:!0});const He=Hn(pe);function lt(e,t,n=10){const r=(0,He.default)(e,t);if(typeof r=="boolean")return r;const i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length||[...i].sort().join("")!==[...a].sort().join(""))return!1;for(let o=0;o<i.length;o++){const u=e[i[o]],s=t[i[o]];if((0,He.default)(u,s)===!1||n>0&&!lt(u,s,n-1))return!1}return!0}_e.default=lt;var te={};Object.defineProperty(te,"__esModule",{value:!0});function Fn(e,t){return["string","number","boolean","bigint","undefined","null","symbol"].includes(typeof e)||[null,void 0].includes(e)?!1:Object.prototype.hasOwnProperty.call(e,t)}te.default=Fn;var ne={};Object.defineProperty(ne,"__esModule",{value:!0});function Ln(e,t){const n=Array.isArray(t)?t:[];return n.push(!1,0,-0,"",null,void 0,NaN),n.includes(e)}ne.default=Ln;var re={};Object.defineProperty(re,"__esModule",{value:!0});function Gn(e){return["string","number","bigint","boolean","undefined","symbol","null"].includes(typeof e)}re.default=Gn;var we={},Un=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(we,"__esModule",{value:!0});const qn=Un(te);function ft(...e){if(e.some(t=>typeof t!="object"))throw new Error("Some/All arguments are not of type (object).");return e.reduce((t,n)=>(Object.keys(n).forEach(r=>{(0,qn.default)(t,r)?typeof n[r]!="object"||typeof t[r]!="object"||t[r]===null||n[r]===null?t[r]=n[r]:t[r]=ft(t[r],n[r]):t[r]=n[r]}),t),{})}we.default=ft;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});function Wn(...e){for(const t of e)if(typeof t=="function"){if(t()===!1)return!1}else if(t===!1)return!1;return!0}Ee.default=Wn;var Oe={},$e=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});const Xn=$e(ne),zn=$e(L),Yn=$e(re);function ct(e){if((0,Xn.default)(e)||(0,Yn.default)(e)||(0,zn.default)(e))return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(n=>{t[n]=ct(e[n])}),t}Oe.default=ct;var p={};Object.defineProperty(p,"__esModule",{value:!0});p.isDefined=p.isNull=p.isObject=p.isArray=p.isString=p.isNumber=p.isTrue=void 0;function R(e){if(typeof e=="boolean")return e;if(typeof e!="function")throw"(condition) should be a boolean or a function";const t=e();if(typeof t!="boolean")throw"(condition) result is not a boolean.";return t}p.isTrue=R;function Kn(e){return R(typeof e=="number")}p.isNumber=Kn;function Jn(e){return R(typeof e=="string")}p.isString=Jn;function Vn(e){return R(Array.isArray(e))}p.isArray=Vn;function kn(e){return R(typeof e=="object")}p.isObject=kn;function Qn(e){return R(e===null)}p.isNull=Qn;function Zn(e){return R(typeof e<"u")}p.isDefined=Zn;(function(e){var t=h&&h.__createBinding||(Object.create?function(b,y,g,v){v===void 0&&(v=g);var T=Object.getOwnPropertyDescriptor(y,g);(!T||("get"in T?!y.__esModule:T.writable||T.configurable))&&(T={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,v,T)}:function(b,y,g,v){v===void 0&&(v=g),b[v]=y[g]}),n=h&&h.__exportStar||function(b,y){for(var g in b)g!=="default"&&!Object.prototype.hasOwnProperty.call(y,g)&&t(y,b,g)},r=h&&h.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.copy=e.verify=e.merge=e.isPrimitiveType=e.isFunction=e.isFalsy=e.hasProperty=e.areEqual=void 0;var i=_e;Object.defineProperty(e,"areEqual",{enumerable:!0,get:function(){return r(i).default}});var a=te;Object.defineProperty(e,"hasProperty",{enumerable:!0,get:function(){return r(a).default}});var o=ne;Object.defineProperty(e,"isFalsy",{enumerable:!0,get:function(){return r(o).default}});var u=L;Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r(u).default}});var s=re;Object.defineProperty(e,"isPrimitiveType",{enumerable:!0,get:function(){return r(s).default}});var f=we;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return r(f).default}});var l=Ee;Object.defineProperty(e,"verify",{enumerable:!0,get:function(){return r(l).default}});var d=Oe;Object.defineProperty(e,"copy",{enumerable:!0,get:function(){return r(d).default}}),n(p,e)})(ee);var se={},Te={};Object.defineProperty(Te,"__esModule",{value:!0});const xn=ee;function er(e,t){if(!Array.isArray(e))throw"(array) should be of type array.";if(!(0,xn.isFunction)(t)&&typeof t!="string")throw"(verifier) should be a type as string or a callback.";return e.every(n=>{if(typeof t=="string"){if(typeof n!==t)return!1}else if(!t(n))return!1;return!0})}Te.default=er;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});function tr(e,t=0){if(typeof e!="number"||typeof t!="number")throw"(end) or (start) is/are not of type number.";if(t>e)throw"start number is greater than the end one.";const n=[];for(let r=t;r<e;r++)n.push(r);return n}Pe.default=tr;var Se={};Object.defineProperty(Se,"__esModule",{value:!0});function nr(e){let t=e.length,n;const r=e;for(;t!=0;)n=Math.floor(Math.random()*t),t--,[r[t],r[n]]=[r[n],r[t]];return r}Se.default=nr;var Me={},je={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});const rr=ee;function ir(e,t,n=0,r=1){if(!(0,rr.isFunction)(e))throw"(callback) is not a function.";if(typeof t!="number")throw"(end) is not a number.";if(typeof n!="number")throw"(start) is not a number.";if(typeof r!="number")throw"(step) is not a number.";for(let i=n;i<t;i=i+r){const a=e(i);if(a!=null)return a}}Ce.default=ir;(function(e){var t=h&&h.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.forRange=void 0;var n=Ce;Object.defineProperty(e,"forRange",{enumerable:!0,get:function(){return t(n).default}})})(je);Object.defineProperty(Me,"__esModule",{value:!0});const or=je;function ar(e,t){const n=[];return(0,or.forRange)(r=>{n.push(e.slice(r,r+t))},e.length,0,t),n}Me.default=ar;(function(e){var t=h&&h.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.segmentize=e.shuffle=e.range=e.isArrayOf=void 0;var n=Te;Object.defineProperty(e,"isArrayOf",{enumerable:!0,get:function(){return t(n).default}});var r=Pe;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return t(r).default}});var i=Se;Object.defineProperty(e,"shuffle",{enumerable:!0,get:function(){return t(i).default}});var a=Me;Object.defineProperty(e,"segmentize",{enumerable:!0,get:function(){return t(a).default}})})(se);var G={},De={};Object.defineProperty(De,"__esModule",{value:!0});function sr(e,t,n){if(typeof e!="number")throw"(min) is not a number.";if(typeof n!="number")throw"(max) is not a number.";if(typeof t!="number")throw"(value) is not a number.";if(e>n)throw"(min) is greater than (max).";return e<=t&&t<=n}De.default=sr;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});function ur(e,t,n){if(typeof e!="number")throw"(min) is not a number";if(typeof n!="number")throw"(max) is not a number";if(typeof t!="number")throw"(n) is not a number";if(e>n)throw"(min) is greater than (max)";return Math.min(Math.max(t,e),n)}Re.default=ur;var I={};Object.defineProperty(I,"__esModule",{value:!0});I.calcDistance3d=I.calcDistance=void 0;function lr(e,t,n,r){if(typeof e!="number")throw"(x1) is not a number";if(typeof n!="number")throw"(x2) is not a number";if(typeof t!="number")throw"(y1) is not a number";if(typeof r!="number")throw"(y2) is not a number";return Math.sqrt(Math.abs(e-n)**2+Math.abs(t-r)**2)}I.calcDistance=lr;function fr(e,t,n,r,i,a){if(typeof e!="number")throw"(x1) is not a number";if(typeof r!="number")throw"(x2) is not a number";if(typeof t!="number")throw"(y1) is not a number";if(typeof i!="number")throw"(y2) is not a number";if(typeof n!="number")throw"(z1) is not a number";if(typeof a!="number")throw"(z2) is not a number";return Math.sqrt(Math.abs(e-r)**2+Math.abs(t-i)**2+Math.abs(n-a)**2)}I.calcDistance3d=fr;(function(e){var t=h&&h.__createBinding||(Object.create?function(o,u,s,f){f===void 0&&(f=s);var l=Object.getOwnPropertyDescriptor(u,s);(!l||("get"in l?!u.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return u[s]}}),Object.defineProperty(o,f,l)}:function(o,u,s,f){f===void 0&&(f=s),o[f]=u[s]}),n=h&&h.__exportStar||function(o,u){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(u,s)&&t(u,o,s)},r=h&&h.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=e.isInInterval=void 0;var i=De;Object.defineProperty(e,"isInInterval",{enumerable:!0,get:function(){return r(i).default}});var a=Re;Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return r(a).default}}),n(I,e)})(G);var dt={},ht={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.since=e.yearsSince=e.monthsSince=e.weeksSince=e.daysSince=e.hoursSince=e.minutesSince=e.secondsSince=e.timeUnitSince=e.YEAR=e.MONTH=e.WEEK=e.DAY=e.HOUR=e.MINUTE=e.SECOND=void 0,e.SECOND=1e3,e.MINUTE=e.SECOND*60,e.HOUR=e.MINUTE*60,e.DAY=e.HOUR*24,e.WEEK=e.DAY*7,e.MONTH=e.DAY*30,e.YEAR=e.DAY*365;function t(l,d,b,y){if(typeof l!="number")throw new Error("time is not a number.");if(l>Date.now())throw new Error("the given time is superior to the current time.");if(typeof d!="number"||d<0)throw new Error("time unit is not a positive number.");const g=Date.now()-l,v=Math.trunc(g/d);return{count:v,formatted:`${v} ${v<2?b:y}`}}e.timeUnitSince=t;function n(l,d="second",b="seconds"){return t(l,e.SECOND,d,b)}e.secondsSince=n;function r(l,d="minute",b="minutes"){return t(l,e.MINUTE,d,b)}e.minutesSince=r;function i(l,d="hour",b="hours"){return t(l,e.HOUR,d,b)}e.hoursSince=i;function a(l,d="day",b="days"){return t(l,e.DAY,d,b)}e.daysSince=a;function o(l,d="week",b="weeks"){return t(l,e.WEEK,d,b)}e.weeksSince=o;function u(l,d="month",b="months"){return t(l,e.MONTH,d,b)}e.monthsSince=u;function s(l,d="year",b="years"){return t(l,e.YEAR,d,b)}e.yearsSince=s;function f(l,d=["second","seconds"],b=["minute","minutes"],y=["hour","hours"],g=["day","days"],v=["week","weeks"],T=["month","months"],oe=["year","years"]){if(typeof l!="number")throw new Error("time is not a number.");let c=l;const m=s(c,...oe);c+=m.count*e.YEAR;const P=u(c,...T);c+=P.count*e.MONTH;const w=o(c,...v);c+=w.count*e.WEEK;const E=a(c,...g);c+=E.count*e.DAY;const A=i(c,...y);c+=A.count*e.HOUR;const z=r(c,...b);c+=z.count*e.MINUTE;const Ne=n(c,...d),Ie={formatted:"",seconds:Ne,minutes:z,hours:A,days:E,weeks:w,months:P,years:m};return Ie.formatted=(()=>m.count>0?m.formatted:P.count>0?P.formatted:w.count>0?w.formatted:E.count>0?E.formatted:A.count>0?A.formatted:z.count>0?z.formatted:Ne.formatted)(),Ie}e.since=f})(ht);(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,u)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=h&&h.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(ht,e)})(dt);var bt={},j={},ie={},U={};Object.defineProperty(U,"__esModule",{value:!0});U.isHexColor=void 0;const cr=F;function dr(e){if((0,cr.isBlank)(e))return!1;const t=/^#[0-9|a|A|b|B|c|C|d|D|e|E|f|F]{3}$/,n=/^#[0-9|a|A|b|B|c|C|d|D|e|E|f|F]{6}$/,r=/^#[0-9|a|A|b|B|c|C|d|D|e|E|f|F]{8}$/;return t.test(e)||n.test(e)||r.test(e)}U.isHexColor=dr;var q={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHslColor=e.extractDataFromHSL=e.isHslaForm=e.isHslForm=e.HSLA_REGEX=e.HSL_REGEX=e.hsla=void 0;const t=F,n=G;function r(s,f,l,d=1){if(!(0,n.isInInterval)(0,s,360))throw"(hue) should be a number between 0 and 360";if(!(0,n.isInInterval)(0,l,100))throw"(lightness) should be a number between 0 and 100";if(!(0,n.isInInterval)(0,f,100))throw"(saturation) should be a number between 0 and 100";if(!(0,n.isInInterval)(0,d,1))throw"(alpha) should be a number between 0 and 1";return`hsla(${s}deg ${f}% ${l}% / ${d})`}e.hsla=r,e.HSL_REGEX=/^hsl\((\d{1,3})(\.\d+){0,1}deg (\d{1,3})(\.\d+){0,1}% (\d{1,3})(\.\d+){0,1}%\)$/,e.HSLA_REGEX=/^hsla\((\d{1,3})(\.\d+){0,1}deg (\d{1,3})(\.\d+){0,1}% (\d{1,3})(\.\d+){0,1}%( \/ (\d{1,3})(\.\d+){0,1}){0,1}\)$/;function i(s){return(0,t.isBlank)(s)?!1:e.HSL_REGEX.test(s)}e.isHslForm=i;function a(s){return(0,t.isBlank)(s)?!1:e.HSLA_REGEX.test(s)}e.isHslaForm=a;function o(s){if(a(s))return s.slice(5,-1).replace("%","").replace("deg","").replace("/","").replace("  "," ").split(" ").map(f=>parseFloat(f.trim()));if(i(s))return s.slice(4,-1).replace("%","").replace("deg","").replace("/","").split(" ").map(f=>parseFloat(f.trim()));throw"(color) is not of a HSL/HSLA form."}e.extractDataFromHSL=o;function u(s){if((0,t.isBlank)(s))return!1;if(i(s)){const[f,l,d]=o(s);return!(360<f||f<0||100<l||l<0||100<d||d<0)}else if(a(s)){const[f,l,d,b]=o(s);return!(360<f||f<0||100<l||l<0||100<d||d<0||b!==void 0&&(1<b||b<0))}return!1}e.isHslColor=u})(q);var W={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRgbColor=e.extractDataFromRGB=e.isRgbaForm=e.isRgbForm=e.RGBA_REGEX=e.RGB_REGEX=e.rgba=void 0;const t=F,n=G;function r(s,f,l,d=1){if(!(0,n.isInInterval)(0,s,255))throw"(red) should be a number between 0 and 255";if(!(0,n.isInInterval)(0,l,255))throw"(green) should be a number between 0 and 255";if(!(0,n.isInInterval)(0,f,255))throw"(blue) should be a number between 0 and 255";if(!(0,n.isInInterval)(0,d,1))throw"(alpha) should be a number between 0 and 1";return`rgba(${s},${f},${l},${d})`}e.rgba=r,e.RGB_REGEX=/^rgb\((\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1}\)$/,e.RGBA_REGEX=/^rgba\((\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1}(,( ){0,1}(\d{1})(\.\d+){0,1}){0,1}\)$/;function i(s){return(0,t.isBlank)(s)?!1:e.RGB_REGEX.test(s)}e.isRgbForm=i;function a(s){return(0,t.isBlank)(s)?!1:e.RGBA_REGEX.test(s)}e.isRgbaForm=a;function o(s){if(a(s))return s.slice(5,-1).split(",").map(f=>parseFloat(f.trim()));if(i(s))return s.slice(4,-1).split(",").map(f=>parseFloat(f.trim()));throw"(color) is not of a RGB/RGBA form."}e.extractDataFromRGB=o;function u(s){if((0,t.isBlank)(s))return!1;if(i(s)){const[f,l,d]=o(s);for(const b of[f,l,d])if(!(0,n.isInInterval)(0,b,256))return!1;return!0}else if(a(s)){const[f,l,d,b]=o(s);for(const y of[f,l,d])if(!(0,n.isInInterval)(0,y,256))return!1;return!(b!==void 0&&!(0,n.isInInterval)(0,b,1))}return!1}e.isRgbColor=u})(W);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getColorType=e.UNKNOWN=e.RGB=e.HSL=e.HEX=void 0;const t=U,n=q,r=W;e.HEX="hex",e.HSL="hsl",e.RGB="rgb",e.UNKNOWN="unknown";function i(a){return(0,t.isHexColor)(a)?e.HEX:(0,n.isHslColor)(a)?e.HSL:(0,r.isRgbColor)(a)?e.RGB:e.UNKNOWN}e.getColorType=i})(ie);Object.defineProperty(j,"__esModule",{value:!0});j.convertColor=j.rgbToHex=j.rgbToHsl=j.hslToRgb=void 0;const S=ie,hr=q,br=W;function mt(e,t,n){t/=100,n/=100,e=e%360;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),a=n-r/2;let o=0,u=0,s=0;return 0<=e&&e<60?(o=r,u=i,s=0):60<=e&&e<120?(o=i,u=r,s=0):120<=e&&e<180?(o=0,u=r,s=i):180<=e&&e<240?(o=0,u=i,s=r):240<=e&&e<300?(o=i,u=0,s=r):300<=e&&e<360&&(o=r,u=0,s=i),o=Math.round((o+a)*255),u=Math.round((u+a)*255),s=Math.round((s+a)*255),[o,u,s]}j.hslToRgb=mt;function yt(e,t,n){e/=255,t/=255,n/=255;const r=Math.min(e,t,n),i=Math.max(e,t,n),a=i-r;let o=0,u=0,s=0;return a==0?o=0:i==e?o=(t-n)/a%6:i==t?o=(n-e)/a+2:o=(e-t)/a+4,o=Math.round(o*60),o<0&&(o+=360),s=(i+r)/2,u=a==0?0:a/(1-Math.abs(2*s-1)),u=+(u*100).toFixed(2),s=+(s*100).toFixed(2),[K(o),K(u),K(s)]}j.rgbToHsl=yt;function gt(e,t,n,r=1){function i(a){const o=Math.round(a).toString(16);return o.length==1?"0"+o:o}return"#"+i(e)+i(t)+i(n)+i(r*255)}j.rgbToHex=gt;const K=e=>Math.round(e*100)/100;function mr(e,t){const n=(0,S.getColorType)(e);if(n===S.UNKNOWN||![S.HEX,S.HSL,S.RGB].includes(t)||t===n)return e;let[r,i,a,o]=[0,0,0,1];if(n===S.HEX){const u=e.substring(1),s=u.length;s===3?(r=parseInt(u[0]+u[0],16),i=parseInt(u[1]+u[1],16),a=parseInt(u[2]+u[2],16)):s>=6&&(r=parseInt(u.substring(0,2),16),i=parseInt(u.substring(2,4),16),a=parseInt(u.substring(4,6),16),s===8&&(o=K(parseInt(u.substring(6),16)/256)))}else if(n===S.HSL){const[u,s,f,l]=(0,hr.extractDataFromHSL)(e);l!==void 0&&(o=l),[r,i,a]=mt(u,s,f)}else if(n===S.RGB){const[u,s,f,l]=(0,br.extractDataFromRGB)(e);l!==void 0&&(o=l),[r,i,a]=[u,s,f]}if(t===S.RGB)return`rgba(${r},${i},${a},${o})`;if(t===S.HSL){const[u,s,f]=yt(r,i,a);return`hsla(${u}deg ${s}% ${f}% / ${o})`}else if(t===S.HEX)return gt(r,i,a,o);return e}j.convertColor=mr;var C={};Object.defineProperty(C,"__esModule",{value:!0});C.changeColorOpacity=C.generateColorTonalPalette=C.generateComplementaryColor=C.generateContrastSafeColor=void 0;const vt=ie,X=j,yr=W,H=q,gr=G;function vr(e){const t=(0,X.convertColor)(e,"rgb");if((0,vt.getColorType)(t)==="unknown")throw"unable to specify (color) type, maybe it is badly formatted ?";return t}function Ae(e){const t=(0,X.convertColor)(e,"hsl");if((0,vt.getColorType)(t)==="unknown")throw"unable to specify (color) type, maybe it is badly formatted ?";return t}function _r(e,t="#fff",n="#000"){const r=vr(e),[i,a,o]=(0,yr.extractDataFromRGB)(r);return(i*299+a*587+o*114)/1e3>=128?n:t}C.generateContrastSafeColor=_r;function pr(e,t){const n=Ae(e),[r,i,a,o]=(0,H.extractDataFromHSL)(n),[u,s,f,l]=[(r+180)%360,i,a,o??1],d=`hsla(${u}deg ${s}% ${f}% / ${l})`;return(0,X.convertColor)(d,t||"hsl")}C.generateComplementaryColor=pr;function wr(e,t){const n=Ae(e),r=[0,10,20,30,40,50,60,70,80,90,95,99,100],[i,a,,o]=(0,H.extractDataFromHSL)(n),u=t??"hsl",s={};return r.forEach(f=>{const l=(0,H.hsla)(i,a,f,o??1);s[f]=(0,X.convertColor)(l,u)}),s}C.generateColorTonalPalette=wr;function Er(e,t,n){const r=Ae(e);if(!(0,gr.isInInterval)(0,t,1))throw"(opacity) should be a number between 0 and 1.";const[i,a,o]=(0,H.extractDataFromHSL)(r);return(0,X.convertColor)((0,H.hsla)(i,a,o,t),n??"hex")}C.changeColorOpacity=Er;(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,u)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=h&&h.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(j,e),n(C,e),n(ie,e),n(U,e),n(q,e),n(W,e)})(bt);(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,a,o){o===void 0&&(o=a);var u=Object.getOwnPropertyDescriptor(i,a);(!u||("get"in u?!i.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return i[a]}}),Object.defineProperty(r,o,u)}:function(r,i,a,o){o===void 0&&(o=a),r[o]=i[a]}),n=h&&h.__exportStar||function(r,i){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(i,a)&&t(i,r,a)};Object.defineProperty(e,"__esModule",{value:!0}),n(F,e),n(ut,e),n(ee,e),n(se,e),n(je,e),n(se,e),n(G,e),n(dt,e),n(bt,e)})(N);let Y;const Or=new Uint8Array(16);function $r(){if(!Y&&(Y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Y(Or)}const _=[];for(let e=0;e<256;++e)_.push((e+256).toString(16).slice(1));function Tr(e,t=0){return(_[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]).toLowerCase()}const Pr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Fe={randomUUID:Pr};function V(e,t,n){if(Fe.randomUUID&&!t&&!e)return Fe.randomUUID();e=e||{};const r=e.random||(e.rng||$r)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return Tr(r)}const J=()=>V(),Le=e=>{const n=e.currentTarget.getBoundingClientRect(),r=.2,i=n.width,a=n.height,o=e.clientX-n.left,u=e.clientY-n.top;return N.isInInterval(0,o,i*r)?"left":N.isInInterval(i*(1-r),o,i)?"right":N.isInInterval(0,u,a*r)?"top":N.isInInterval(a*(1-r),u,a)?"bottom":"center"},Sr=Symbol.for("tab");class Mr{constructor(t=[],n={}){O(this,"id",J());O(this,"items",[]);O(this,"activeId");O(this,"element",null);O(this,"parent");O(this,"events");this.items=t,this.events=n}toggleTab(t){var i,a,o,u;const n=this.element.querySelector(".tab-group-content");if(this.activeId===t)return;const r=this.items.find(s=>s.id===t);if(r){(a=(i=this.events)==null?void 0:i.onBeforeTabToggle)==null||a.call(i,r,this),this.activeId=t,n.hasChildNodes()?n.childNodes.item(0).replaceWith(r.element()):n.appendChild(r.element());const s=this.element.querySelector('.tab-group-btn[data-active="true"]');s&&$.setAttribute("data-active",!1,s);const f=this.element.querySelector(`#tab-group-btn-${t}`);$.setAttribute("data-active",!0,f),(u=(o=this.events)==null?void 0:o.onTabToggled)==null||u.call(o,r,this)}}removeTab(t){var r,i,a,o;if(!this.doExist(t))return this.items.length;const n=this.items.find(u=>u.id===t);return(i=(r=this.events)==null?void 0:r.onBeforeTabRemove)==null||i.call(r,n,this),this.items=this.items.filter(u=>u.id!==t),this.items.length===0?this.onEmptied():this.toggleTab(this.items[0].id),this.element.querySelector(`#tab-group-btn-${t}`).remove(),(o=(a=this.events)==null?void 0:a.onTabRemoved)==null||o.call(a,n,this),this.items.length}addTab(t,n=1/0){var o,u,s,f;if(this.doExist(t.id))throw`Tab with id (${t.id}) already exists !`;(u=(o=this.events)==null?void 0:o.onBeforeTabAdd)==null||u.call(o,t,this);const r=N.clamp(0,n,this.items.length);this.items=[...this.items.slice(0,r),t,...this.items.slice(r+1)];const i=this.element.querySelector(".tab-group-tabs"),a=this.element.querySelector(".add-tab-btn");return i.insertBefore(this.createTabButton(t,!1),a),this.toggleTab(t.id),(f=(s=this.events)==null?void 0:s.onTabAdded)==null||f.call(s,t,this),this.items.length}emptyContent(){this.element.querySelector(".tab-group-content").innerHTML=""}onEmptied(){}doExist(t){return this.items.some(n=>n.id===t)}isActive(t){return t===this.activeId}createTabButton(t,n){return $.createElement("button",{children:[t.title],attributes:{class:"tab-group-btn",id:`tab-group-btn-${t.id}`,"data-active":n,draggable:"true"},events:{onclick:()=>this.toggleTab(t.id),oncontextmenu:r=>{r.preventDefault(),this.removeTab(t.id)},ondragstart:r=>{var o;const i=r;r.stopPropagation();const a={id:t.id,__symbol__:Sr.description};(o=i.dataTransfer)==null||o.setData("text/plain",JSON.stringify(a))}}})}render(){!this.activeId&&this.items.length>0&&(this.activeId=this.items[0].id);const t=this.items.filter(r=>this.isActive(r.id)).map(r=>{const i=r.element();return $.setAttribute("id",r.id,i),i}),n=$.createElement("div",{attributes:{class:"tab-group"},children:[$.createElement("nav",{attributes:{class:"tab-group-tabs"},children:[...this.items.map(r=>this.createTabButton(r,this.isActive(r.id))),$.createElement("button",{children:"+",attributes:{class:"add-tab-btn"},events:{onclick:()=>{const r={element:()=>$.createElement("div",{children:J()}),id:J(),title:"Random Tab"};this.addTab(r)}}})]}),$.createElement("div",{attributes:{class:"tab-group-content"},children:t})]});return this.element=n,this.element}}const ae=["top","left","bottom","right","center"];class M{constructor(t,n){O(this,"id",J());O(this,"group",null);O(this,"items",[]);O(this,"isRow",!0);O(this,"events");O(this,"element",null);O(this,"parent");this.items=t,this.events=n.events,this.isRow=n.isRow??!0,this.parent=n.parent??void 0,this.items.every(r=>r instanceof M)?this.items.forEach(r=>r.parent=this):(this.group=new Mr(this.items,this.events),this.group.parent=this,this.items=[])}get upmostParent(){return this.parent?this.parent.upmostParent:this}get hover(){return this.element.querySelector(".custom-layout-hover")}get forLayouts(){return!this.group&&this.items.every(t=>t instanceof M)}findTab(t){if(!this.forLayouts&&this.group.doExist(t))return{tab:this.group.items.find(r=>r.id===t),group:this.group};for(const n of this.items){const i=n.findTab(t);if(i)return i}return null}reBuild(){this.element.replaceWith(this.render())}transformTo(t){if(this.forLayouts)return;const n=this.group;this.group=void 0,this.isRow=t,this.items=[new M(n.items,{events:this.events,parent:this,isRow:t})]}addLayout(t,n,r){if(this.parent){const i=new M(t,{events:this.events,parent:this.parent});if(this.parent.isRow===r){const a=this.parent.items.indexOf(this)+(n?0:1);this.parent.items=[...this.parent.items.slice(0,a),i,...this.parent.items.slice(a)]}else this.transformTo(r),n?this.items.unshift(i):this.items.push(i);this.parent.reBuild()}else{const i=new M(t,{events:this.events,parent:this});n?this.items.unshift(i):this.items.push(i),this.reBuild()}}transformToTabGroup(){if(this.items.length>1)throw"Unable to transform layout to group : Layout has 2 or more sub layouts";this.group=this.items[0].group,this.group.parent=this,this.items=[],this.isRow=!0,this.reBuild()}updateParenthood(t){this.parent=t,this.forLayouts?this.items.forEach(n=>n.updateParenthood(this)):this.group.parent=this}removeLayout(t){if(this.forLayouts){if(!this.items.some(n=>n.id===t))throw`Layout with id "${t}" does not exist !`;if(this.items=this.items.filter(n=>n.id!==t),this.items.length===1){const n=this.items[0];n.forLayouts?(this.items=n.items,this.isRow=n.isRow,this.updateParenthood(this.parent)):this.transformToTabGroup()}this.reBuild()}}onTabGroupEmptied(){this.forLayouts||this.parent&&this.parent.removeLayout(this.id)}render(){const t=()=>this.items.map(n=>n.render());return this.element=$.createElement("div",{attributes:{class:"custom-layout-container",style:`
        background-color: #2d2d2d;
        padding: ${this.forLayouts?"0px":"10px"};
        border-radius: 10px;
        display: flex;
        flex-direction:${this.isRow?"row":"column"};
        flex:1;
        align-items:stretch;
        `},events:{ondrag:n=>n.preventDefault(),ondragover:n=>{if(this.forLayouts)return;this.hover.style.display="block",n.preventDefault();const r=n.currentTarget,i=Le(n);ae.filter(a=>a!==i).forEach(a=>r.classList.remove(`custom-layout-container-${a}`)),r.classList.contains(`custom-layout-container-${i}`)||r.classList.add(`custom-layout-container-${i}`)},ondragleave:n=>{if(this.forLayouts)return;const r=n.currentTarget;this.hover.style.display="none",ae.forEach(i=>r.classList.remove(`custom-layout-container-${i}`))},ondrop:n=>{var f;if(this.forLayouts)return;this.hover.style.display="none",n.preventDefault();const r=n.currentTarget;ae.forEach(l=>r.classList.remove(`custom-layout-container-${l}`));const i=Le(n),a=(f=n.dataTransfer)==null?void 0:f.getData("text"),o=JSON.parse(a??""),u=this.upmostParent.findTab(o.id);let s=null;if(u)s=u.tab;else{const l=this.events.onUnknownDropped(n);l&&(s=l)}if(s){if(u.group.id===this.group.id&&this.group.items.length===1)return;switch(u==null||u.group.removeTab(s.id),i){case"center":{this.group.addTab(s);break}case"right":{this.addLayout([s],!1,!0);break}case"left":{this.addLayout([s],!0,!0);break}case"top":{this.addLayout([s],!0,!1);break}case"bottom":{this.addLayout([s],!1,!1);break}default:this.group.addTab(s)}}}},children:[...this.forLayouts?t():[this.group.render()],$.createElement("div",{attributes:{class:"custom-layout-hover"},events:{ondrag:n=>n.preventDefault()}})]}),this.element}}const ue=()=>[{element:()=>$.createElement("div",{children:"Tab One"}),id:V(),title:"One"},{element:()=>$.createElement("div",{children:"Tab Two"}),id:V(),title:"Two"}],jr=new M(ue(),{events:{onUnknownDropped(){}}}),Cr=new M([new M(ue(),{events:{onUnknownDropped(){}}}),new M(ue(),{events:{onUnknownDropped(){}}})],{events:{onUnknownDropped(){}},isRow:!1}),Dr=new M([jr,Cr],{events:{onUnknownDropped(){}}});document.querySelector(".draggable-btn").addEventListener("dragstart",e=>{var n,r;const t=e;(n=t.dataTransfer)==null||n.clearData(),(r=t.dataTransfer)==null||r.setData("text/plain",JSON.stringify({id:V(),title:"New Tab"}))});document.querySelector("#app").appendChild(Dr.render());
