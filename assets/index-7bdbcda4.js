var vt=Object.defineProperty;var _t=(e,t,n)=>t in e?vt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var O=(e,t,n)=>(_t(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const u of i)if(u.type==="childList")for(const o of u.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const u={};return i.integrity&&(u.integrity=i.integrity),i.referrerpolicy&&(u.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?u.credentials="include":i.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(i){if(i.ep)return;i.ep=!0;const u=n(i);fetch(i.href,u)}})();var h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},T={},Le={};function pt(e,t){const n=Array.isArray(t)?t:[];return n.push(!1,0,-0,0n,"",null,void 0,NaN),n.includes(e)}var Ge=pt,Ue=e=>typeof e=="function";function wt(e){return["string","number","bigint","boolean","undefined","symbol","null"].includes(typeof e)}var qe=wt;const Et=Ge,Ot=Ue,$t=qe;function We(e){if(Et(e)||$t(e)||Ot(e))return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(n=>{t[n]=We(e[n])}),t}var Pt=We;function Tt(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1}var St=Tt;const Ne=St;function Xe(e,t,n=10){const r=Ne(e,t);if(typeof r=="boolean")return r;const i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length||[...i].sort().join("")!==[...u].sort().join(""))return!1;for(let o=0;o<i.length;o++)if(Ne(e[i[o]],t[i[o]])===!1||n>0&&!Xe(e[i[o]],t[i[o]],n-1))return!1;return!0}var Mt=Xe;function jt(e,t,n=0,r=1){if(!(typeof e!="function"||typeof t!="number"||typeof n!="number"||typeof r!="number"))for(let i=n;i<t;i=i+r){const u=e(i);if(u!=null)return u}}var Ct=jt;function Rt(e){return typeof e!="string"?e:e.substring(0,1).toUpperCase()+e.substring(1)}var Dt=Rt;function At(e){return typeof e!="string"||e.length===0}var ze=At;const It=ze;function Nt(e){return typeof e!="string"||It(e.trim())}var Q=Nt;function Bt(e,t="'",n=t){return`${t}${e}${n}`}var Ht=Bt;function Ft(e,t){return["string","number","boolean","bigint","undefined","null","symbol"].includes(typeof e)||[null,void 0].includes(e)?!1:Object.prototype.hasOwnProperty.call(e,t)}var Ye=Ft;const Lt=Q;function Gt(e){if(Lt(e))return!1;const t=/^#[0-9|a|b|c|d|e|f]{3}$/,n=/^#[0-9|a|b|c|d|e|f]{6}$/,r=/^#[0-9|a|b|c|d|e|f]{8}$/;return t.test(e)||n.test(e)||r.test(e)}var Ke=Gt;const Ut=Ye,Ve=(...e)=>{if(e.some(t=>typeof t!="object"))throw new Error("Some/All arguments are not of type (object).");return e.reduce((t,n)=>(Object.keys(n).forEach(r=>{Ut(t,r)?typeof n[r]!="object"||typeof t[r]!="object"||t[r]===null||n[r]===null?t[r]=n[r]:t[r]=Ve(t[r],n[r]):t[r]=n[r]}),t),{})};var qt=Ve;const Wt=Q;var Je=e=>{if(Wt(e))return!1;const t=/^rgb\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})\)$/,n=/^rgba\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})(,( ){0,1}(\d{1})(\.\d+){0,1}){0,1}\)$/;if(t.test(e)){const r=e.slice(4,-1).split(",").map(i=>parseInt(i.trim()));for(let i of r)if(i>256)return!1;return!0}else if(n.test(e)){const r=e.slice(5,-1).split(",").map(i=>parseInt(i.trim()));for(let i of r.slice(0,3))if(i>256)return!1;return!(r[3]!==void 0&&(1<r[3]||r[3]<0))}return!1};const se=1e3,Z=se*60,le=Z*60,B=le*24,fe=B*7,ce=B*30,de=B*365;function R(e,t,n,r){if(typeof e!="number")throw new Error("time is not a number.");if(e>Date.now())throw new Error("the given time is superior to the current time.");if(typeof t!="number"||t<0)throw new Error("time unit is not a positive number.");const i=Date.now()-e,u=Math.trunc(i/t);return{count:u,formatted:`${u} ${u<2?n:r}`}}function Qe(e,t="second",n="seconds"){return R(e,se,t,n)}function Ze(e,t="minute",n="minutes"){return R(e,Z,t,n)}function ke(e,t="hour",n="hours"){return R(e,le,t,n)}function xe(e,t="day",n="days"){return R(e,B,t,n)}function et(e,t="week",n="weeks"){return R(e,fe,t,n)}function tt(e,t="month",n="months"){return R(e,ce,t,n)}function nt(e,t="year",n="years"){return R(e,de,t,n)}function Xt(e,t=["second","seconds"],n=["minute","minutes"],r=["hour","hours"],i=["day","days"],u=["week","weeks"],o=["month","months"],a=["year","years"]){if(typeof e!="number")throw new Error("time is not a number.");let s=e;const l=nt(s,...a);s+=l.count*de;const f=tt(s,...o);s+=f.count*ce;const d=et(s,...u);s+=d.count*fe;const b=xe(s,...i);s+=b.count*B;const y=ke(s,...r);s+=y.count*le;const g=Ze(s,...n);s+=g.count*Z;const v=Qe(s,...t),$={formatted:"",seconds:v,minutes:g,hours:y,days:b,weeks:d,months:f,years:l};return $.formatted=(()=>l.count>0?l.formatted:f.count>0?f.formatted:d.count>0?d.formatted:b.count>0?b.formatted:y.count>0?y.formatted:g.count>0?g.formatted:v.formatted)(),$}var zt={SECOND:se,MINUTE:Z,DAY:B,WEEK:fe,MONTH:ce,YEAR:de,timeUnitSince:R,secondsSince:Qe,minutesSince:Ze,hoursSince:ke,daysSince:xe,weeksSince:et,monthsSince:tt,yearsSince:nt,since:Xt};const Yt=Q;var rt=e=>{if(Yt(e))return!1;const t=/^hsl\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})\)$/,n=/^hsla\((\d{1,3}),( ){0,1}(\d{1,3}),( ){0,1}(\d{1,3})(,( ){0,1}(\d{1})(\.\d+){0,1}){0,1}\)$/;if(t.test(e)){const r=e.slice(4,-1).split(",").map(i=>parseInt(i.trim()));for(let i of r)if(i>256)return!1;return!0}else if(n.test(e)){const r=e.slice(5,-1).split(",").map(a=>parseInt(a.trim())),i=r.slice(0,3)[0],u=r.slice(0,3)[1],o=r.slice(0,3)[2];return!(360<i||i<0||100<u||u<0||100<o||o<0||r[3]!==void 0&&(1<r[3]||r[3]<0))}return!1},Kt=(e,t,n)=>{if(typeof e!="number")throw"(min) is not a number.";if(typeof n!="number")throw"(max) is not a number.";if(typeof t!="number")throw"(value) is not a number.";if(e>n)throw"(min) is greater than (max).";return e<=t&&t<=n};const Vt=Ke,Jt=rt,Qt=Je,it="hex",ot="hsl",ut="rgb",Zt="unknown",kt=e=>Vt(e)?it:Jt(e)?ot:Qt(e)?ut:Zt;var xt={getColorType:kt,HEX:it,HSL:ot,RGB:ut},en=(...e)=>{for(let t of e)if(typeof t=="function"){if(t()===!1)return!1}else if(t===!1)return!1;return!0};const tn=Pt,nn=Mt,rn=Ge,on=Ct,un=Dt,an=Q,sn=ze,ln=Ht,fn=Ye,cn=qe,dn=Ke,hn=Ue,bn=qt,mn=Je,yn=zt,gn=rt,vn=Kt,_n=xt,pn=en;var wn={areEqual:nn,copy:tn,isFalsy:rn,forRange:on,isEmpty:sn,isBlank:an,wrap:ln,capitalize:un,hasProperty:fn,isPrimitiveType:cn,isHexColor:dn,isFunction:hn,merge:bn,isRgbColor:mn,isHslColor:gn,isInInterval:vn,verify:pn,...yn,..._n},he={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeAttribute=e.setAttribute=e.toggleAttribute=e.isToggledOn=e.isTogglableAttribute=e.togglableAttributes=void 0,e.togglableAttributes=["contenteditable","autofocus","autoplay","allowfullscreen","allowpaymentreques","checked","controls","compact","disabled","hidden","ismap","loop","multiple","muted","open","playsinline","readonly","required","selected","async","defer"];const t=o=>e.togglableAttributes.includes(o.trim());e.isTogglableAttribute=t;const n=(o,a)=>(0,e.isTogglableAttribute)(o)&&a[o]===!0;e.isToggledOn=n;const r=(o,a,s)=>{s!==void 0?(a.toggleAttribute(o,s===!0),a[o]=s===!0):a.toggleAttribute(o)};e.toggleAttribute=r;const i=(o,a,s)=>{e.togglableAttributes.includes(o)?(0,e.toggleAttribute)(o,s,a):(s.setAttribute(o,a),s[o]=a)};e.setAttribute=i;const u=(o,a)=>{(0,e.isTogglableAttribute)(o)?(0,e.toggleAttribute)(o,a,!1):a.removeAttribute(o)};e.removeAttribute=u})(he);var be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.removeEvent=e.setEvent=e.isOnEventName=void 0;const t=i=>!(typeof i!="string"||!/on[a-z]{1,}/.test(i));e.isOnEventName=t;const n=(i,u,o)=>{o instanceof Element&&typeof u=="function"&&(0,e.isOnEventName)(i)&&(o[i]=u)};e.setEvent=n;const r=(i,u)=>{u instanceof Element&&(0,e.isOnEventName)(i)&&(u[i]=null)};e.removeEvent=r})(be);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.replaceNodeWith=e.removeNode=e.changeChildPosition=e.removeChildAtPosition=e.getElementChildrenCount=e.getElementPosition=e.isElementInDocument=e.isElementWithinElement=e.injectNode=e.createElement=e.setTextNodeData=e.createTextNode=e.isElement=e.isTextNode=void 0;const t=wn,n=he,r=be,i=c=>c instanceof Text;e.isTextNode=i;const u=c=>c instanceof Element;e.isElement=u;const o=c=>document.createTextNode(c);e.createTextNode=o;const a=(c,m)=>{(0,e.isTextNode)(c)&&(c.data=m)};e.setTextNodeData=a;const s=(c,m)=>{if((0,t.isBlank)(c))throw new Error("tag cannot be empty.");const P=m&&m.namespace?m.namespace:"http://www.w3.org/1999/xhtml",w=document.createElementNS(P,c);if(m&&m.attributes&&Object.keys(m.attributes).forEach(E=>{(0,n.setAttribute)(E,m.attributes[E],w)}),m&&m.events&&Object.keys(m.events).forEach(E=>{(0,r.setEvent)(E,m.events[E],w)}),m&&m.children){const E=m.children;Array.isArray(E)?E.forEach(A=>{(0,e.injectNode)(A,w)}):(0,e.injectNode)(E,w)}return w};e.createElement=s;const l=(c,m,P)=>{let w;(0,e.isElement)(c)||(0,e.isTextNode)(c)?w=c:w=(0,e.createTextNode)(c),typeof P=="number"&&P>-1?m.insertBefore(w,m.children[P]):m.append(w)};e.injectNode=l;const f=(c,m)=>!(c instanceof Node)||!(0,e.isElement)(m)?!1:m.contains(c);e.isElementWithinElement=f;const d=c=>(0,e.isElementWithinElement)(c,document.body);e.isElementInDocument=d;const b=c=>Array.from(c.parentElement.children).indexOf(c);e.getElementPosition=b;const y=c=>(0,e.isElement)(c)?c.childElementCount:-1;e.getElementChildrenCount=y;const g=(c,m)=>(0,e.getElementChildrenCount)(c)-1<m?!1:c.removeChild(c.childNodes.item(m));e.removeChildAtPosition=g;const v=(c,m)=>{if(!(0,e.isElement)(c))return;const P=c.parentElement;(0,e.isElement)(P)&&(0,e.injectNode)(c,P,m)};e.changeChildPosition=v;const $=c=>{((0,e.isElement)(c)||(0,e.isTextNode)(c))&&c.remove()};e.removeNode=$;const oe=(c,m)=>{((0,e.isElement)(c)||(0,e.isTextNode)(c))&&((0,e.isElement)(m)||(0,e.isTextNode)(m))&&c.replaceWith(m)};e.replaceNodeWith=oe})(Le);(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(r,o,a)}:function(r,i,u,o){o===void 0&&(o=u),r[o]=i[u]}),n=h&&h.__exportStar||function(r,i){for(var u in r)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,r,u)};Object.defineProperty(e,"__esModule",{value:!0}),n(Le,e),n(be,e),n(he,e)})(T);var I={},G={},me={},k={},x={};Object.defineProperty(x,"__esModule",{value:!0});function En(e){return typeof e!="string"||e.length===0}x.default=En;var On=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(k,"__esModule",{value:!0});const $n=On(x);function Pn(e){return typeof e!="string"||(0,$n.default)(e.trim())}k.default=Pn;var Tn=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(me,"__esModule",{value:!0});const Sn=Tn(k);function Mn(e){if((0,Sn.default)(e))throw"(str) is empty or is not a string.";return e.substring(0,1).toUpperCase()+e.substring(1)}me.default=Mn;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});function jn(e,t="'",n=t){return`${t}${e}${n}`}ye.default=jn;(function(e){var t=h&&h.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.wrap=e.isEmpty=e.isBlank=e.capitalize=void 0;var n=me;Object.defineProperty(e,"capitalize",{enumerable:!0,get:function(){return t(n).default}});var r=k;Object.defineProperty(e,"isBlank",{enumerable:!0,get:function(){return t(r).default}});var i=x;Object.defineProperty(e,"isEmpty",{enumerable:!0,get:function(){return t(i).default}});var u=ye;Object.defineProperty(e,"wrap",{enumerable:!0,get:function(){return t(u).default}})})(G);var at={},ge={},U={};Object.defineProperty(U,"__esModule",{value:!0});function Cn(e){return typeof e=="function"}U.default=Cn;var Rn=h&&h.__awaiter||function(e,t,n,r){function i(u){return u instanceof n?u:new n(function(o){o(u)})}return new(n||(n=Promise))(function(u,o){function a(f){try{l(r.next(f))}catch(d){o(d)}}function s(f){try{l(r.throw(f))}catch(d){o(d)}}function l(f){f.done?u(f.value):i(f.value).then(a,s)}l((r=r.apply(e,t||[])).next())})},Dn=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ge,"__esModule",{value:!0});const An=Dn(U);function In(e,t){return Rn(this,void 0,void 0,function*(){return new Promise(n=>{if(typeof e!="number"||e<0)throw"(time) is not valid.";if(!(0,An.default)(t))throw"(callback) is not a function.";setTimeout(()=>{n(t())},e)})})}ge.default=In;(function(e){var t=h&&h.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.runAfter=void 0;var n=ge;Object.defineProperty(e,"runAfter",{enumerable:!0,get:function(){return t(n).default}})})(at);var ee={},ve={},_e={};Object.defineProperty(_e,"__esModule",{value:!0});function Nn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1}_e.default=Nn;var Bn=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ve,"__esModule",{value:!0});const Be=Bn(_e);function st(e,t,n=10){const r=(0,Be.default)(e,t);if(typeof r=="boolean")return r;const i=Object.keys(e),u=Object.keys(t);if(i.length!==u.length||[...i].sort().join("")!==[...u].sort().join(""))return!1;for(let o=0;o<i.length;o++){const a=e[i[o]],s=t[i[o]];if((0,Be.default)(a,s)===!1||n>0&&!st(a,s,n-1))return!1}return!0}ve.default=st;var te={};Object.defineProperty(te,"__esModule",{value:!0});function Hn(e,t){return["string","number","boolean","bigint","undefined","null","symbol"].includes(typeof e)||[null,void 0].includes(e)?!1:Object.prototype.hasOwnProperty.call(e,t)}te.default=Hn;var ne={};Object.defineProperty(ne,"__esModule",{value:!0});function Fn(e,t){const n=Array.isArray(t)?t:[];return n.push(!1,0,-0,"",null,void 0,NaN),n.includes(e)}ne.default=Fn;var re={};Object.defineProperty(re,"__esModule",{value:!0});function Ln(e){return["string","number","bigint","boolean","undefined","symbol","null"].includes(typeof e)}re.default=Ln;var pe={},Gn=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});const Un=Gn(te);function lt(...e){if(e.some(t=>typeof t!="object"))throw new Error("Some/All arguments are not of type (object).");return e.reduce((t,n)=>(Object.keys(n).forEach(r=>{(0,Un.default)(t,r)?typeof n[r]!="object"||typeof t[r]!="object"||t[r]===null||n[r]===null?t[r]=n[r]:t[r]=lt(t[r],n[r]):t[r]=n[r]}),t),{})}pe.default=lt;var we={};Object.defineProperty(we,"__esModule",{value:!0});function qn(...e){for(const t of e)if(typeof t=="function"){if(t()===!1)return!1}else if(t===!1)return!1;return!0}we.default=qn;var Ee={},Oe=h&&h.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});const Wn=Oe(ne),Xn=Oe(U),zn=Oe(re);function ft(e){if((0,Wn.default)(e)||(0,zn.default)(e)||(0,Xn.default)(e))return e;const t=Array.isArray(e)?[]:{};return Object.keys(e).forEach(n=>{t[n]=ft(e[n])}),t}Ee.default=ft;var p={};Object.defineProperty(p,"__esModule",{value:!0});p.isDefined=p.isNull=p.isObject=p.isArray=p.isString=p.isNumber=p.isTrue=void 0;function D(e){if(typeof e=="boolean")return e;if(typeof e!="function")throw"(condition) should be a boolean or a function";const t=e();if(typeof t!="boolean")throw"(condition) result is not a boolean.";return t}p.isTrue=D;function Yn(e){return D(typeof e=="number")}p.isNumber=Yn;function Kn(e){return D(typeof e=="string")}p.isString=Kn;function Vn(e){return D(Array.isArray(e))}p.isArray=Vn;function Jn(e){return D(typeof e=="object")}p.isObject=Jn;function Qn(e){return D(e===null)}p.isNull=Qn;function Zn(e){return D(typeof e<"u")}p.isDefined=Zn;(function(e){var t=h&&h.__createBinding||(Object.create?function(b,y,g,v){v===void 0&&(v=g);var $=Object.getOwnPropertyDescriptor(y,g);(!$||("get"in $?!y.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return y[g]}}),Object.defineProperty(b,v,$)}:function(b,y,g,v){v===void 0&&(v=g),b[v]=y[g]}),n=h&&h.__exportStar||function(b,y){for(var g in b)g!=="default"&&!Object.prototype.hasOwnProperty.call(y,g)&&t(y,b,g)},r=h&&h.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(e,"__esModule",{value:!0}),e.copy=e.verify=e.merge=e.isPrimitiveType=e.isFunction=e.isFalsy=e.hasProperty=e.areEqual=void 0;var i=ve;Object.defineProperty(e,"areEqual",{enumerable:!0,get:function(){return r(i).default}});var u=te;Object.defineProperty(e,"hasProperty",{enumerable:!0,get:function(){return r(u).default}});var o=ne;Object.defineProperty(e,"isFalsy",{enumerable:!0,get:function(){return r(o).default}});var a=U;Object.defineProperty(e,"isFunction",{enumerable:!0,get:function(){return r(a).default}});var s=re;Object.defineProperty(e,"isPrimitiveType",{enumerable:!0,get:function(){return r(s).default}});var l=pe;Object.defineProperty(e,"merge",{enumerable:!0,get:function(){return r(l).default}});var f=we;Object.defineProperty(e,"verify",{enumerable:!0,get:function(){return r(f).default}});var d=Ee;Object.defineProperty(e,"copy",{enumerable:!0,get:function(){return r(d).default}}),n(p,e)})(ee);var ae={},$e={};Object.defineProperty($e,"__esModule",{value:!0});const kn=ee;function xn(e,t){if(!Array.isArray(e))throw"(array) should be of type array.";if(!(0,kn.isFunction)(t)&&typeof t!="string")throw"(verifier) should be a type as string or a callback.";return e.every(n=>{if(typeof t=="string"){if(typeof n!==t)return!1}else if(!t(n))return!1;return!0})}$e.default=xn;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});function er(e,t=0){if(typeof e!="number"||typeof t!="number")throw"(end) or (start) is/are not of type number.";if(t>e)throw"start number is greater than the end one.";const n=[];for(let r=t;r<e;r++)n.push(r);return n}Pe.default=er;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});function tr(e){let t=e.length,n;const r=e;for(;t!=0;)n=Math.floor(Math.random()*t),t--,[r[t],r[n]]=[r[n],r[t]];return r}Te.default=tr;var Se={},Me={},je={};Object.defineProperty(je,"__esModule",{value:!0});const nr=ee;function rr(e,t,n=0,r=1){if(!(0,nr.isFunction)(e))throw"(callback) is not a function.";if(typeof t!="number")throw"(end) is not a number.";if(typeof n!="number")throw"(start) is not a number.";if(typeof r!="number")throw"(step) is not a number.";for(let i=n;i<t;i=i+r){const u=e(i);if(u!=null)return u}}je.default=rr;(function(e){var t=h&&h.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(e,"__esModule",{value:!0}),e.forRange=void 0;var n=je;Object.defineProperty(e,"forRange",{enumerable:!0,get:function(){return t(n).default}})})(Me);Object.defineProperty(Se,"__esModule",{value:!0});const ir=Me;function or(e,t){const n=[];return(0,ir.forRange)(r=>{n.push(e.slice(r,r+t))},e.length,0,t),n}Se.default=or;(function(e){var t=h&&h.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.segmentize=e.shuffle=e.range=e.isArrayOf=void 0;var n=$e;Object.defineProperty(e,"isArrayOf",{enumerable:!0,get:function(){return t(n).default}});var r=Pe;Object.defineProperty(e,"range",{enumerable:!0,get:function(){return t(r).default}});var i=Te;Object.defineProperty(e,"shuffle",{enumerable:!0,get:function(){return t(i).default}});var u=Se;Object.defineProperty(e,"segmentize",{enumerable:!0,get:function(){return t(u).default}})})(ae);var q={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});function ur(e,t,n){if(typeof e!="number")throw"(min) is not a number.";if(typeof n!="number")throw"(max) is not a number.";if(typeof t!="number")throw"(value) is not a number.";if(e>n)throw"(min) is greater than (max).";return e<=t&&t<=n}Ce.default=ur;var Re={};Object.defineProperty(Re,"__esModule",{value:!0});function ar(e,t,n){if(typeof e!="number")throw"(min) is not a number";if(typeof n!="number")throw"(max) is not a number";if(typeof t!="number")throw"(n) is not a number";if(e>n)throw"(min) is greater than (max)";return Math.min(Math.max(t,e),n)}Re.default=ar;var N={};Object.defineProperty(N,"__esModule",{value:!0});N.calcDistance3d=N.calcDistance=void 0;function sr(e,t,n,r){if(typeof e!="number")throw"(x1) is not a number";if(typeof n!="number")throw"(x2) is not a number";if(typeof t!="number")throw"(y1) is not a number";if(typeof r!="number")throw"(y2) is not a number";return Math.sqrt(Math.abs(e-n)**2+Math.abs(t-r)**2)}N.calcDistance=sr;function lr(e,t,n,r,i,u){if(typeof e!="number")throw"(x1) is not a number";if(typeof r!="number")throw"(x2) is not a number";if(typeof t!="number")throw"(y1) is not a number";if(typeof i!="number")throw"(y2) is not a number";if(typeof n!="number")throw"(z1) is not a number";if(typeof u!="number")throw"(z2) is not a number";return Math.sqrt(Math.abs(e-r)**2+Math.abs(t-i)**2+Math.abs(n-u)**2)}N.calcDistance3d=lr;(function(e){var t=h&&h.__createBinding||(Object.create?function(o,a,s,l){l===void 0&&(l=s);var f=Object.getOwnPropertyDescriptor(a,s);(!f||("get"in f?!a.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(o,l,f)}:function(o,a,s,l){l===void 0&&(l=s),o[l]=a[s]}),n=h&&h.__exportStar||function(o,a){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,o,s)},r=h&&h.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(e,"__esModule",{value:!0}),e.clamp=e.isInInterval=void 0;var i=Ce;Object.defineProperty(e,"isInInterval",{enumerable:!0,get:function(){return r(i).default}});var u=Re;Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return r(u).default}}),n(N,e)})(q);var ct={},dt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.since=e.yearsSince=e.monthsSince=e.weeksSince=e.daysSince=e.hoursSince=e.minutesSince=e.secondsSince=e.timeUnitSince=e.YEAR=e.MONTH=e.WEEK=e.DAY=e.HOUR=e.MINUTE=e.SECOND=void 0,e.SECOND=1e3,e.MINUTE=e.SECOND*60,e.HOUR=e.MINUTE*60,e.DAY=e.HOUR*24,e.WEEK=e.DAY*7,e.MONTH=e.DAY*30,e.YEAR=e.DAY*365;function t(f,d,b,y){if(typeof f!="number")throw new Error("time is not a number.");if(f>Date.now())throw new Error("the given time is superior to the current time.");if(typeof d!="number"||d<0)throw new Error("time unit is not a positive number.");const g=Date.now()-f,v=Math.trunc(g/d);return{count:v,formatted:`${v} ${v<2?b:y}`}}e.timeUnitSince=t;function n(f,d="second",b="seconds"){return t(f,e.SECOND,d,b)}e.secondsSince=n;function r(f,d="minute",b="minutes"){return t(f,e.MINUTE,d,b)}e.minutesSince=r;function i(f,d="hour",b="hours"){return t(f,e.HOUR,d,b)}e.hoursSince=i;function u(f,d="day",b="days"){return t(f,e.DAY,d,b)}e.daysSince=u;function o(f,d="week",b="weeks"){return t(f,e.WEEK,d,b)}e.weeksSince=o;function a(f,d="month",b="months"){return t(f,e.MONTH,d,b)}e.monthsSince=a;function s(f,d="year",b="years"){return t(f,e.YEAR,d,b)}e.yearsSince=s;function l(f,d=["second","seconds"],b=["minute","minutes"],y=["hour","hours"],g=["day","days"],v=["week","weeks"],$=["month","months"],oe=["year","years"]){if(typeof f!="number")throw new Error("time is not a number.");let c=f;const m=s(c,...oe);c+=m.count*e.YEAR;const P=a(c,...$);c+=P.count*e.MONTH;const w=o(c,...v);c+=w.count*e.WEEK;const E=u(c,...g);c+=E.count*e.DAY;const A=i(c,...y);c+=A.count*e.HOUR;const K=r(c,...b);c+=K.count*e.MINUTE;const Ae=n(c,...d),Ie={formatted:"",seconds:Ae,minutes:K,hours:A,days:E,weeks:w,months:P,years:m};return Ie.formatted=(()=>m.count>0?m.formatted:P.count>0?P.formatted:w.count>0?w.formatted:E.count>0?E.formatted:A.count>0?A.formatted:K.count>0?K.formatted:Ae.formatted)(),Ie}e.since=l})(dt);(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(r,o,a)}:function(r,i,u,o){o===void 0&&(o=u),r[o]=i[u]}),n=h&&h.__exportStar||function(r,i){for(var u in r)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,r,u)};Object.defineProperty(e,"__esModule",{value:!0}),n(dt,e)})(ct);var ht={},j={},ie={},W={};Object.defineProperty(W,"__esModule",{value:!0});W.isHexColor=void 0;const fr=G;function cr(e){if((0,fr.isBlank)(e))return!1;const t=/^#[0-9|a|A|b|B|c|C|d|D|e|E|f|F]{3}$/,n=/^#[0-9|a|A|b|B|c|C|d|D|e|E|f|F]{6}$/,r=/^#[0-9|a|A|b|B|c|C|d|D|e|E|f|F]{8}$/;return t.test(e)||n.test(e)||r.test(e)}W.isHexColor=cr;var X={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isHslColor=e.extractDataFromHSL=e.isHslaForm=e.isHslForm=e.HSLA_REGEX=e.HSL_REGEX=e.hsla=void 0;const t=G,n=q;function r(s,l,f,d=1){if(!(0,n.isInInterval)(0,s,360))throw"(hue) should be a number between 0 and 360";if(!(0,n.isInInterval)(0,f,100))throw"(lightness) should be a number between 0 and 100";if(!(0,n.isInInterval)(0,l,100))throw"(saturation) should be a number between 0 and 100";if(!(0,n.isInInterval)(0,d,1))throw"(alpha) should be a number between 0 and 1";return`hsla(${s}deg ${l}% ${f}% / ${d})`}e.hsla=r,e.HSL_REGEX=/^hsl\((\d{1,3})(\.\d+){0,1}deg (\d{1,3})(\.\d+){0,1}% (\d{1,3})(\.\d+){0,1}%\)$/,e.HSLA_REGEX=/^hsla\((\d{1,3})(\.\d+){0,1}deg (\d{1,3})(\.\d+){0,1}% (\d{1,3})(\.\d+){0,1}%( \/ (\d{1,3})(\.\d+){0,1}){0,1}\)$/;function i(s){return(0,t.isBlank)(s)?!1:e.HSL_REGEX.test(s)}e.isHslForm=i;function u(s){return(0,t.isBlank)(s)?!1:e.HSLA_REGEX.test(s)}e.isHslaForm=u;function o(s){if(u(s))return s.slice(5,-1).replace("%","").replace("deg","").replace("/","").replace("  "," ").split(" ").map(l=>parseFloat(l.trim()));if(i(s))return s.slice(4,-1).replace("%","").replace("deg","").replace("/","").split(" ").map(l=>parseFloat(l.trim()));throw"(color) is not of a HSL/HSLA form."}e.extractDataFromHSL=o;function a(s){if((0,t.isBlank)(s))return!1;if(i(s)){const[l,f,d]=o(s);return!(360<l||l<0||100<f||f<0||100<d||d<0)}else if(u(s)){const[l,f,d,b]=o(s);return!(360<l||l<0||100<f||f<0||100<d||d<0||b!==void 0&&(1<b||b<0))}return!1}e.isHslColor=a})(X);var z={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isRgbColor=e.extractDataFromRGB=e.isRgbaForm=e.isRgbForm=e.RGBA_REGEX=e.RGB_REGEX=e.rgba=void 0;const t=G,n=q;function r(s,l,f,d=1){if(!(0,n.isInInterval)(0,s,255))throw"(red) should be a number between 0 and 255";if(!(0,n.isInInterval)(0,f,255))throw"(green) should be a number between 0 and 255";if(!(0,n.isInInterval)(0,l,255))throw"(blue) should be a number between 0 and 255";if(!(0,n.isInInterval)(0,d,1))throw"(alpha) should be a number between 0 and 1";return`rgba(${s},${l},${f},${d})`}e.rgba=r,e.RGB_REGEX=/^rgb\((\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1}\)$/,e.RGBA_REGEX=/^rgba\((\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1},( ){0,1}(\d{1,3})(\.\d+){0,1}(,( ){0,1}(\d{1})(\.\d+){0,1}){0,1}\)$/;function i(s){return(0,t.isBlank)(s)?!1:e.RGB_REGEX.test(s)}e.isRgbForm=i;function u(s){return(0,t.isBlank)(s)?!1:e.RGBA_REGEX.test(s)}e.isRgbaForm=u;function o(s){if(u(s))return s.slice(5,-1).split(",").map(l=>parseFloat(l.trim()));if(i(s))return s.slice(4,-1).split(",").map(l=>parseFloat(l.trim()));throw"(color) is not of a RGB/RGBA form."}e.extractDataFromRGB=o;function a(s){if((0,t.isBlank)(s))return!1;if(i(s)){const[l,f,d]=o(s);for(const b of[l,f,d])if(!(0,n.isInInterval)(0,b,256))return!1;return!0}else if(u(s)){const[l,f,d,b]=o(s);for(const y of[l,f,d])if(!(0,n.isInInterval)(0,y,256))return!1;return!(b!==void 0&&!(0,n.isInInterval)(0,b,1))}return!1}e.isRgbColor=a})(z);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getColorType=e.UNKNOWN=e.RGB=e.HSL=e.HEX=void 0;const t=W,n=X,r=z;e.HEX="hex",e.HSL="hsl",e.RGB="rgb",e.UNKNOWN="unknown";function i(u){return(0,t.isHexColor)(u)?e.HEX:(0,n.isHslColor)(u)?e.HSL:(0,r.isRgbColor)(u)?e.RGB:e.UNKNOWN}e.getColorType=i})(ie);Object.defineProperty(j,"__esModule",{value:!0});j.convertColor=j.rgbToHex=j.rgbToHsl=j.hslToRgb=void 0;const S=ie,dr=X,hr=z;function bt(e,t,n){t/=100,n/=100,e=e%360;const r=(1-Math.abs(2*n-1))*t,i=r*(1-Math.abs(e/60%2-1)),u=n-r/2;let o=0,a=0,s=0;return 0<=e&&e<60?(o=r,a=i,s=0):60<=e&&e<120?(o=i,a=r,s=0):120<=e&&e<180?(o=0,a=r,s=i):180<=e&&e<240?(o=0,a=i,s=r):240<=e&&e<300?(o=i,a=0,s=r):300<=e&&e<360&&(o=r,a=0,s=i),o=Math.round((o+u)*255),a=Math.round((a+u)*255),s=Math.round((s+u)*255),[o,a,s]}j.hslToRgb=bt;function mt(e,t,n){e/=255,t/=255,n/=255;const r=Math.min(e,t,n),i=Math.max(e,t,n),u=i-r;let o=0,a=0,s=0;return u==0?o=0:i==e?o=(t-n)/u%6:i==t?o=(n-e)/u+2:o=(e-t)/u+4,o=Math.round(o*60),o<0&&(o+=360),s=(i+r)/2,a=u==0?0:u/(1-Math.abs(2*s-1)),a=+(a*100).toFixed(2),s=+(s*100).toFixed(2),[J(o),J(a),J(s)]}j.rgbToHsl=mt;function yt(e,t,n,r=1){function i(u){const o=Math.round(u).toString(16);return o.length==1?"0"+o:o}return"#"+i(e)+i(t)+i(n)+i(r*255)}j.rgbToHex=yt;const J=e=>Math.round(e*100)/100;function br(e,t){const n=(0,S.getColorType)(e);if(n===S.UNKNOWN||![S.HEX,S.HSL,S.RGB].includes(t)||t===n)return e;let[r,i,u,o]=[0,0,0,1];if(n===S.HEX){const a=e.substring(1),s=a.length;s===3?(r=parseInt(a[0]+a[0],16),i=parseInt(a[1]+a[1],16),u=parseInt(a[2]+a[2],16)):s>=6&&(r=parseInt(a.substring(0,2),16),i=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16),s===8&&(o=J(parseInt(a.substring(6),16)/256)))}else if(n===S.HSL){const[a,s,l,f]=(0,dr.extractDataFromHSL)(e);f!==void 0&&(o=f),[r,i,u]=bt(a,s,l)}else if(n===S.RGB){const[a,s,l,f]=(0,hr.extractDataFromRGB)(e);f!==void 0&&(o=f),[r,i,u]=[a,s,l]}if(t===S.RGB)return`rgba(${r},${i},${u},${o})`;if(t===S.HSL){const[a,s,l]=mt(r,i,u);return`hsla(${a}deg ${s}% ${l}% / ${o})`}else if(t===S.HEX)return yt(r,i,u,o);return e}j.convertColor=br;var C={};Object.defineProperty(C,"__esModule",{value:!0});C.changeColorOpacity=C.generateColorTonalPalette=C.generateComplementaryColor=C.generateContrastSafeColor=void 0;const gt=ie,Y=j,mr=z,L=X,yr=q;function gr(e){const t=(0,Y.convertColor)(e,"rgb");if((0,gt.getColorType)(t)==="unknown")throw"unable to specify (color) type, maybe it is badly formatted ?";return t}function De(e){const t=(0,Y.convertColor)(e,"hsl");if((0,gt.getColorType)(t)==="unknown")throw"unable to specify (color) type, maybe it is badly formatted ?";return t}function vr(e,t="#fff",n="#000"){const r=gr(e),[i,u,o]=(0,mr.extractDataFromRGB)(r);return(i*299+u*587+o*114)/1e3>=128?n:t}C.generateContrastSafeColor=vr;function _r(e,t){const n=De(e),[r,i,u,o]=(0,L.extractDataFromHSL)(n),[a,s,l,f]=[(r+180)%360,i,u,o??1],d=`hsla(${a}deg ${s}% ${l}% / ${f})`;return(0,Y.convertColor)(d,t||"hsl")}C.generateComplementaryColor=_r;function pr(e,t){const n=De(e),r=[0,10,20,30,40,50,60,70,80,90,95,99,100],[i,u,,o]=(0,L.extractDataFromHSL)(n),a=t??"hsl",s={};return r.forEach(l=>{const f=(0,L.hsla)(i,u,l,o??1);s[l]=(0,Y.convertColor)(f,a)}),s}C.generateColorTonalPalette=pr;function wr(e,t,n){const r=De(e);if(!(0,yr.isInInterval)(0,t,1))throw"(opacity) should be a number between 0 and 1.";const[i,u,o]=(0,L.extractDataFromHSL)(r);return(0,Y.convertColor)((0,L.hsla)(i,u,o,t),n??"hex")}C.changeColorOpacity=wr;(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(r,o,a)}:function(r,i,u,o){o===void 0&&(o=u),r[o]=i[u]}),n=h&&h.__exportStar||function(r,i){for(var u in r)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,r,u)};Object.defineProperty(e,"__esModule",{value:!0}),n(j,e),n(C,e),n(ie,e),n(W,e),n(X,e),n(z,e)})(ht);(function(e){var t=h&&h.__createBinding||(Object.create?function(r,i,u,o){o===void 0&&(o=u);var a=Object.getOwnPropertyDescriptor(i,u);(!a||("get"in a?!i.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return i[u]}}),Object.defineProperty(r,o,a)}:function(r,i,u,o){o===void 0&&(o=u),r[o]=i[u]}),n=h&&h.__exportStar||function(r,i){for(var u in r)u!=="default"&&!Object.prototype.hasOwnProperty.call(i,u)&&t(i,r,u)};Object.defineProperty(e,"__esModule",{value:!0}),n(G,e),n(at,e),n(ee,e),n(ae,e),n(Me,e),n(ae,e),n(q,e),n(ct,e),n(ht,e)})(I);let V;const Er=new Uint8Array(16);function Or(){if(!V&&(V=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!V))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return V(Er)}const _=[];for(let e=0;e<256;++e)_.push((e+256).toString(16).slice(1));function $r(e,t=0){return(_[e[t+0]]+_[e[t+1]]+_[e[t+2]]+_[e[t+3]]+"-"+_[e[t+4]]+_[e[t+5]]+"-"+_[e[t+6]]+_[e[t+7]]+"-"+_[e[t+8]]+_[e[t+9]]+"-"+_[e[t+10]]+_[e[t+11]]+_[e[t+12]]+_[e[t+13]]+_[e[t+14]]+_[e[t+15]]).toLowerCase()}const Pr=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),He={randomUUID:Pr};function Tr(e,t,n){if(He.randomUUID&&!t&&!e)return He.randomUUID();e=e||{};const r=e.random||(e.rng||Or)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return $r(r)}const F=()=>Tr(),Fe=e=>{const n=e.currentTarget.getBoundingClientRect(),r=.2,i=n.width,u=n.height,o=e.clientX-n.left,a=e.clientY-n.top;return I.isInInterval(0,o,i*r)?"left":I.isInInterval(i*(1-r),o,i)?"right":I.isInInterval(0,a,u*r)?"top":I.isInInterval(u*(1-r),a,u)?"bottom":"center"},Sr=Symbol.for("tab");class Mr{constructor(t=[],n={}){O(this,"id",F());O(this,"items",[]);O(this,"activeId");O(this,"element",null);O(this,"parent");O(this,"events");this.items=t,this.events=n}get contentElement(){return this.element.querySelector(".tab-group-content")}get currentTab(){return this.items.find(t=>t.id===this.activeId)}toggle(t){var u,o,a,s,l,f,d,b;const n=this.element.querySelector(".tab-group-content");if(this.activeId===t)return;const r=this.items.find(y=>y.id===this.activeId),i=this.items.find(y=>y.id===t);if(i){(o=(u=this.events)==null?void 0:u.onBeforeTabToggle)==null||o.call(u,i,this),(a=i.onBeforeMount)==null||a.call(i,this),(s=r==null?void 0:r.onBeforeUnmount)==null||s.call(r,this),this.activeId=t,n.hasChildNodes()?n.childNodes.item(0).replaceWith(i.element()):n.appendChild(i.element());const y=this.element.querySelector('.tab-group-btn[data-active="true"]');y&&T.setAttribute("data-active",!1,y);const g=this.element.querySelector(`#tab-group-btn-${t}`);T.setAttribute("data-active",!0,g),(f=(l=this.events)==null?void 0:l.onTabToggled)==null||f.call(l,i,this),(d=i.onMounted)==null||d.call(i,this),(b=r==null?void 0:r.onUnmounted)==null||b.call(r,this)}}remove(t){var i,u,o,a,s;if(!this.doExist(t))return this.items.length;const n=this.items.find(l=>l.id===t),r=this.items.filter(l=>l.id!==t);return r.length===0?this.onEmptied():this.activeId===t&&this.toggle(r[0].id),this.items=r,(u=(i=this.events)==null?void 0:i.onBeforeTabRemove)==null||u.call(i,n,this),(o=this.element.querySelector(`#tab-group-btn-${t}`))==null||o.remove(),(s=(a=this.events)==null?void 0:a.onTabRemoved)==null||s.call(a,n,this),this.items.length}add(t,n=1/0){var o,a,s,l;if(this.doExist(t.id))throw`Tab with id (${t.id}) already exists !`;(a=(o=this.events)==null?void 0:o.onBeforeTabAdd)==null||a.call(o,t,this);const r=I.clamp(0,n,this.items.length);this.items=[...this.items.slice(0,r),t,...this.items.slice(r+1)];const i=this.element.querySelector(".tab-group-tabs"),u=this.element.querySelector(".add-tab-btn");return i.insertBefore(this.createTabButton(t,!1),u),this.toggle(t.id),(l=(s=this.events)==null?void 0:s.onTabAdded)==null||l.call(s,t,this),this.items.length}onEmptied(){var t;(t=this.parent)==null||t.onTabGroupEmptied()}doExist(t){return this.items.some(n=>n.id===t)}isActive(t){return t===this.activeId}getTabButtonById(t){return this.element.querySelector(`#tab-group-btn-${t}`)}createTabButton(t,n){return T.createElement("button",{children:[t.title],attributes:{class:"tab-group-btn",id:`tab-group-btn-${t.id}`,draggable:"true","data-active":n},events:{onclick:()=>this.toggle(t.id),oncontextmenu:r=>{r.preventDefault(),this.remove(t.id)},ondragstart:r=>{var o;const i=r;r.stopPropagation();const u={id:t.id,__symbol__:Sr.description};(o=i.dataTransfer)==null||o.setData("text/plain",JSON.stringify(u))}}})}render(){!this.activeId&&this.items.length>0&&(this.activeId=this.items[0].id);const t=this.items.filter(r=>this.isActive(r.id)).map(r=>r.element()),n=T.createElement("div",{attributes:{class:"tab-group"},children:[T.createElement("nav",{attributes:{class:"tab-group-tabs"},children:[...this.items.map(r=>this.createTabButton(r,this.isActive(r.id))),T.createElement("button",{children:"+",attributes:{class:"add-tab-btn"},events:{onclick:()=>{const r={element:()=>T.createElement("div",{children:F()}),id:F(),title:"Random Tab"};this.add(r)}}})]}),T.createElement("div",{attributes:{class:"tab-group-content"},children:t})]});return this.element=n,this.element}}const ue=["top","left","bottom","right","center"];class M{constructor(t,n){O(this,"id",F());O(this,"group");O(this,"items",[]);O(this,"isRow",!0);O(this,"events");O(this,"element",null);O(this,"parent");this.events=n==null?void 0:n.events,this.isRow=(n==null?void 0:n.isRow)??!0,this.parent=(n==null?void 0:n.parent)??void 0,t.every(r=>r instanceof M)?(this.items=t,this.items.forEach(r=>r.parent=this)):(this.group=new Mr(t,this.events),this.group.parent=this,this.items=[])}get isUpmostParent(){return this.upmostParent===this}get upmostParent(){return this.parent?this.parent.upmostParent:this}get hover(){return this.element.querySelector(".custom-layout-hover")}get forLayout(){return!this.group&&this.items.length>0}findTab(t){if(!this.forLayout){if(!this.group)throw"Unexpected state: Layout does not contain a tab group.";if(this.group.doExist(t))return{tab:this.group.items.find(r=>r.id===t),group:this.group}}for(const n of this.items){const i=n.findTab(t);if(i)return i}return null}reBuild(){this.element.replaceWith(this.render())}toLayoutGroup(t){if(this.forLayout)this.isRow=t;else{const n=this.group;this.group=void 0,this.isRow=t;const r=new M(n.items,{events:this.events,parent:this,isRow:t});this.items=[r]}}toTabGroup(){var t;if(this.items.length!==1)throw"Unable to transform layout to tab group : Layout has 0 or 2+ more sub layouts";this.group=(t=this.items[0])==null?void 0:t.group,this.group.parent=this,this.items=[],this.isRow=!0,this.reBuild()}addLayout(t,n,r){if(t.length===0)throw"Unable to add a new layout with no tabs.";if(this.parent){if(this.parent.isRow===r){const i=new M(t,{events:this.events,parent:this.parent}),u=this.parent.items.indexOf(this)+(n?0:1);this.parent.items=[...this.parent.items.slice(0,u),i,...this.parent.items.slice(u)]}else{const i=new M(t,{events:this.events,parent:this});this.toLayoutGroup(r),n?this.items.unshift(i):this.items.push(i)}this.parent.reBuild()}else{const i=new M(t,{events:this.events,parent:this});this.toLayoutGroup(r),n?this.items.unshift(i):this.items.push(i),this.reBuild()}}updateParenthood(t){this.parent=t,this.forLayout?this.items.forEach(n=>n.updateParenthood(this)):this.group.parent=this}removeLayout(t){if(this.forLayout){if(!this.items.some(n=>n.id===t))throw`Layout with id "${t}" does not exist !`;if(this.items=this.items.filter(n=>n.id!==t),this.items.length===1){const n=this.items[0];n.forLayout?(this.items=n.items,this.isRow=n.isRow,this.updateParenthood(this.parent)):this.toTabGroup()}this.reBuild()}}onTabGroupEmptied(){this.forLayout||this.parent&&this.parent.removeLayout(this.id)}onDrop(t,n,r){var a,s;const i=JSON.parse(n??""),u=this.upmostParent.findTab(i.id);let o=null;if(u)o=u.tab;else{const l=(s=(a=this.events)==null?void 0:a.onUnknownDropped)==null?void 0:s.call(a,r);l&&(o=l)}if(o){if(u.group.id===this.group.id&&this.group.items.length===1)return;switch(u==null||u.group.remove(o.id),t){case"center":{this.group.add(o);break}case"right":{this.addLayout([o],!1,!0);break}case"left":{this.addLayout([o],!0,!0);break}case"top":{this.addLayout([o],!0,!1);break}case"bottom":{this.addLayout([o],!1,!1);break}default:this.group.add(o)}}}render(){const t=()=>this.items.map(n=>n.render());return this.element=T.createElement("div",{attributes:{class:"custom-layout-container",style:`
        background-color: #2d2d2d;
        padding: ${this.forLayout?"0px":"10px"};
        border-radius: 10px;
        display: flex;
        flex-direction:${this.isRow?"row":"column"};
        flex:1;
        align-items:stretch;
        `},events:{ondrag:n=>n.preventDefault(),ondragover:n=>{if(this.forLayout)return;this.hover.style.display="block",n.preventDefault();const r=n.currentTarget,i=Fe(n);ue.filter(u=>u!==i).forEach(u=>r.classList.remove(`custom-layout-container-${u}`)),r.classList.contains(`custom-layout-container-${i}`)||r.classList.add(`custom-layout-container-${i}`)},ondragleave:n=>{if(this.forLayout)return;const r=n.currentTarget;this.hover.style.display="none",ue.forEach(i=>r.classList.remove(`custom-layout-container-${i}`))},ondrop:n=>{var o;if(this.forLayout)return;this.hover.style.display="none",n.preventDefault();const r=n.currentTarget;ue.forEach(a=>r.classList.remove(`custom-layout-container-${a}`));const i=Fe(n),u=(o=n.dataTransfer)==null?void 0:o.getData("text");this.onDrop(i,u??"",n)}},children:[...this.forLayout?t():[this.group.render()],T.createElement("div",{attributes:{class:"custom-layout-hover"},events:{ondrag:n=>n.preventDefault()}})]}),this.element}}const H=()=>({element:()=>T.createElement("div",{children:"Hello World"}),id:F(),title:"Tab Title"}),jr=new M([new M([H(),H()]),new M([new M([H(),H()]),new M([H()])],{isRow:!1})]);document.querySelector("#app").appendChild(jr.render());
